# 單階二項樹模型和無套利論述

舉例說明：

假設有一股票，市價20美元，以之3個月後股價不是22美元就是18美元，一歐式買權有權在3個月後以21美元的價格購買該股票，
想知道此一歐式買權的今日價值為何?3個月後，歐式買權的價值只有兩種可能情形：
- 當股價22美元時，買權的價值將為1美元
- 當股價是18美元時，買權的價值將為0

今設立一投資組合，該組合包含Δ股的股票長部位和一個買權短部位。其中，數值的計算必須使得投資組合成為一個無風險的組合。
- 股價從20美元漲到22美元時，股價的價值為22Δ，選擇權的價值為1，投資組合的總價值等於22Δ-1
- 當股價從20美元跌到18美元時，股價的價值為18Δ，選擇權的價值為0，投資組合的總價值等於18Δ
如果值的設定在上述兩種情況下有相同價值，則該投資組合及具有無風險的特性，亦即：

$$ 22 \Delta - 1 = 18 \Delta $$

或

$$ \Delta = 0.25 $$

因此，無風險投資組合如下所示
- 長部位：0.25股股票
- 短部位：1個選擇權

如果股價上漲為22美元，投資組合的價值為：

$$ 22 \times 0.25 -1 = 4.5 $$

如果股價下跌為18美元，投資組合的價值為：

$$ 18 \times 0.25 = 4.5 $$

無論股價上漲或下跌，投資組合在選擇權到期時的價值永遠都等於4.5。  
在套利機會不可能存在的前提下，無風險投資組合必定只能賺取無風險利率。假設本利中的無風險利率是每年12%，因此投資組合的今日價值必定是4.5的現值，亦即：

$$ 4.5e^{-0.12 \times 3/12} = 4.367 $$

已知今日股價是20美元，今以f表示選擇權的價格，於是投資組合的今日價值為：

$$ 20 \times 0.25 - f = 5 - f $$

由於

$$ 5 - f = 4.367 $$

或

$$ f = 0.633 $$

在無套利機會的假設下，上述分析證明選擇權的今日價值必定等於0.633。如果選擇權的價值大於0.633，投資組合的設立成本會小於4.367，
投資報酬率就會高於無風險利率；如果選擇權的價值小於0.633，則放空投資組合將使得貸款利率低於無風險利率。  
交易0.25股實務上不可行，然而，依照同樣的推論，賣400單位選擇權就要買100單位股票，一般而言，賣一單位選擇權同時要買Δ單位股票才可以組成一無風險投資組合。
參數Δ(delta)在選擇權避險上很重要

# 公式化

無套利論述歸納如下：

假設有一股價為S<sub>0</sub>的股票和一個股價為f之股票選擇權(或任何股票衍生性證券)。選擇權的到期時間為T，在有效起間內，股價可能從S<sub>0</sub>上漲成
S<sub>0</sub>u，亦可能從S<sub>0</sub>下跌成S<sub>0</sub>d（此處u > 1 ， d < 1）。
- 股價上漲時的漲幅等於u - 1
- 股價下跌時的漲幅等於1 - d
- 當股價上漲成S<sub>0</sub>u時，選擇權的報償等於f<sub>u</sub>
- 當股價下跌成S<sub>0</sub>d時，選擇權的報償等於f<sub>d</sub>

誠如前述，建立一個投資組合，其中Δ值的計算是要確保此一投資組合具有無風險的特性。如股價上漲，投資組合在選擇權到期時的價值為：

$$ S_0u \Delta - f_u $$

如股價下跌，投資組合的價值會變成：

$$ S_0d \Delta - f_d $$

設定兩者相等，則：

$$ S_0u \Delta - f_u = S_0d \Delta - f_d $$

於是：

$$ \Delta = \frac{f_u - f_d}{S_0u - S_0d} $$  <p align="right">(12.1)</p>

由於投資組合具無風險性，且完全無套利機會，故其投資報酬率必定等於無風險利率。
從公式(12.1)得知，Δ等於選擇權價差除以股票價差所得到的一個比率。  
今以r表示無風險利率。投資組合的現值為：

$$  (S_0u \Delta - f_u)e^{-rT} $$

投資組合的起始設定成本為：

$$ S_0 \Delta - f $$

於是：

$$ S_0 \Delta - f = (S_0u \Delta - f_u)e^{-rT} $$

或

$$ f = S_0 \Delta (1 - ue^{-rT}) + f_ue^{-rT}

將公式(12.1)的Δ代入上式，我們得到：

$$ f = S_0(\frac{f_u - f_d}{S_0u - S_0d})(1 - ue^{-rT}) + f_ue^{-rT} $$

或

$$ f = \frac{f_u(1 - de^{-rT}) + f_d(ue^{-rT} - 1)}{u - d} $$

或

$$ f = e^{-rT}[pf_u + (1 - p)f_d] $$  <p align="right">(12.2)</p>

其中

$$ p = \frac{e^{rT} - d}{u - d} $$  <p align="right">(12.3)</p>

當股價變動是以單階二項樹模型表現時，公式(12.2)和公式(12.3)及是股票選擇權的訂價公式。市場上無任何套利機會是使用此一模型的唯一假設。  
今以前例說明，我們得到如下數值
- u = 1.1
- d = 0.9
- r = 0.12
- T = 0.25
- f<sub>u</sub> = 1
- f<sub>d</sub> = 0
根據公式(12.3)：

$$ p = \frac{e^{0.12 \times 3/12} - 0.9}{1.1 - 0.9} = 0.6523 $$

利用公式(12.2)：

$$ f = e^{-0.12 \times 0.25}(0.6523 \times 1 + 0.3477 \times 0) = 0.633 $$

此處結果和前面答案完全一致。

### 股票期望報酬率的無關性

公式(12.2)是股票選擇權的訂價模式，但其中完全無涉及股價上漲或下跌的機率。例如，
不論股價上漲的機率是0.5或0.9時，我們得到的選擇權價格都是一樣的。一般而言，當股價上漲機率增大時，
人們會很自然認為股票買權價值會上升，而股票賣權價格會下跌，但這種認知卻是錯誤的。
上述現象的關鍵理由如下所述：我們並不是以絕對數值來評價選擇權。而是以標的物股票的股價來評估。
股價上漲或下跌的機率都早已反映在股價裡，因此當我們在利用股價來評價股票選擇權時，就不在需要考慮股價上漲或下跌的機率。


































